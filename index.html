<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ishit Singh</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <style>
    :root {
      --bg: #000000;
      --fg: #ffffff; 
      --sub: #86868b; 
      --card: #121212; 
      --border: rgba(255, 255, 255, 0.1);
      --font: "SF Pro Display", -apple-system, BlinkMacSystemFont, sans-serif;
      --font-mono: "SF Mono", monospace;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: auto !important; background: var(--bg); }
    
    body { 
      background: var(--bg); 
      color: var(--fg); 
      font-family: var(--font); 
      -webkit-font-smoothing: antialiased; 
      overflow-x: hidden;
      touch-action: pan-y; /* Allows vertical scroll while capturing horizontal swipes */
    }

    header { 
      position: fixed; top: 0; left: 0; right: 0; z-index: 1000; 
      display: flex; justify-content: center; padding-top: 20px;
      pointer-events: none;
    }
    nav { 
      background: rgba(20, 20, 20, 0.7); 
      backdrop-filter: saturate(180%) blur(20px); 
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      padding: 5px; border-radius: 50px; 
      border: 1px solid rgba(255, 255, 255, 0.1); 
      display: flex; gap: 4px; pointer-events: auto;
    }
    .nav-btn { 
      background: transparent; border: 0; color: var(--fg); padding: 8px 22px; 
      font-size: 13px; font-weight: 500; border-radius: 40px; 
      cursor: pointer; opacity: 0.5; transition: all 0.3s ease;
    }
    .nav-btn.active { opacity: 1; background: rgba(255, 255, 255, 0.1); }

    .reveal { opacity: 0; filter: blur(20px); transform: translateY(20px); }

    .hig-container { max-width: 980px; margin: 0 auto; padding: 0 24px 40vh; }

    /* HOME */
    .hero { height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; }
    .hero h1 { 
      font-size: clamp(54px, 14vw, 110px); font-weight: 700; letter-spacing: -0.02em; 
      color: var(--fg); line-height: 1; font-feature-settings: "liga" 0;
    }

    .bento-grid { display: grid; grid-template-columns: repeat(13, 1fr); grid-auto-rows: 160px; gap: 20px; }
    .card { 
      background: var(--card); border-radius: 28px; padding: 32px; 
      display: flex; flex-direction: column; justify-content: flex-end; 
      border: 1px solid var(--border);
    }
    .c-8 { grid-column: span 8; } .c-5 { grid-column: span 5; } .r-3 { grid-row: span 3; } .r-2 { grid-row: span 2; }
    .tag { font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--sub); margin-bottom: 12px; font-family: var(--font-mono); }
    .card h3 { font-size: 22px; font-weight: 600; margin-bottom: 8px; }
    .card p { color: var(--sub); font-size: 15px; line-height: 1.5; }

    /* ABOUT */
    .about-section { padding-top: 180px; }
    .about-header { border-bottom: 1px solid var(--border); padding-bottom: 48px; }
    .about-header h1 { font-size: clamp(42px, 10vw, 64px); font-weight: 700; margin-bottom: 16px; }
    .about-header p { font-size: 22px; color: var(--sub); line-height: 1.4; max-width: 700px; }
    .hig-row { display: grid; grid-template-columns: 200px 1fr; padding: 80px 0; border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
    .hig-label { font-family: var(--font-mono); font-size: 11px; color: var(--sub); text-transform: uppercase; padding-top: 8px; }
    .hig-content h2 { font-size: 32px; font-weight: 600; margin-bottom: 20px; }
    .hig-content p { font-size: 19px; color: #e5e5e7; line-height: 1.6; }

    .tab-content { display: none; }
    .tab-content.active { display: block; }

    @media (max-width: 800px) {
      .bento-grid { display: flex; flex-direction: column; gap: 16px; }
      .hig-row { grid-template-columns: 1fr; gap: 16px; padding: 48px 0; }
      .about-section { padding-top: 120px; }
    }
  </style>
</head>

<body>
  <header>
    <nav>
      <button class="nav-btn active" data-tab="0">Work</button>
      <button class="nav-btn" data-tab="1">About</button>
    </nav>
  </header>

  <main id="swipe-zone">
    <section id="tab-0" class="tab-content active">
      <section class="hero"><h1 class="reveal">Ishit Singh.</h1></section>
      <div class="hig-container">
        <div class="bento-grid">
          <div class="card c-8 r-3 reveal"><h3>C# Architecture</h3><p>Building modular engine components.</p></div>
          <div class="card c-5 r-2 reveal"><h3>Advanced Blender</h3><p>Translating mechanical designs.</p></div>
        </div>
      </div>
    </section>

    <section id="tab-1" class="tab-content">
      <div class="hig-container about-section">
        <div class="about-header reveal"><h1>Guidelines</h1><p>Architecting technical beauty.</p></div>
        <div class="hig-row reveal">
          <div class="hig-label">Foundation</div>
          <div class="hig-content"><h2>The Narrative</h2><p>Born on April 27, 2010.</p></div>
        </div>
      </div>
    </section>
  </main>

  <script>
    gsap.registerPlugin(ScrollTrigger);

    let currentTab = 0;
    const buttons = document.querySelectorAll('.nav-btn');
    const tabs = document.querySelectorAll('.tab-content');

    function switchTab(index) {
      if (index < 0 || index >= tabs.length) return;
      currentTab = index;

      buttons.forEach((btn, i) => btn.classList.toggle('active', i === index));
      tabs.forEach((tab, i) => {
        tab.style.display = (i === index) ? 'block' : 'none';
        tab.classList.toggle('active', i === index);
      });

      // INSTANT TOP RESET
      window.scrollTo({ top: 0, left: 0, behavior: 'instant' });
      
      ScrollTrigger.refresh();
      initAnimations();
    }

    function initAnimations() {
      ScrollTrigger.getAll().forEach(t => t.kill());
      document.querySelectorAll('.reveal').forEach((el) => {
        gsap.to(el, {
          scrollTrigger: { trigger: el, start: "top 95%" },
          opacity: 1, filter: "blur(0px)", y: 0, duration: 0.8
        });
      });
    }

    buttons.forEach((btn, i) => btn.addEventListener('click', () => switchTab(i)));

    // SWIPE LOGIC
    let touchstartX = 0;
    let touchendX = 0;

    document.addEventListener('touchstart', e => {
      touchstartX = e.changedTouches[0].screenX;
    }, false);

    document.addEventListener('touchend', e => {
      touchendX = e.changedTouches[0].screenX;
      handleSwipe();
    }, false);

    function handleSwipe() {
      const threshold = 100; // px
      if (touchendX < touchstartX - threshold) switchTab(1); // Swipe Left -> About
      if (touchendX > touchstartX + threshold) switchTab(0); // Swipe Right -> Work
    }

    window.addEventListener('load', () => { 
        initAnimations(); 
        window.scrollTo(0,0);
    });
  </script>
</body>
</html>
